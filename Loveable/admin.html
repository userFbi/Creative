<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Festival Expense Manager</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <style>
      :root {
        --accent: #f59e0b; /* main orange */
        --muted: #f4f1ef;
        --card-radius: 14px;
        --soft-shadow: 0 6px 18px rgba(15, 23, 42, 0.06);
      }
      html,
      body {
        height: 100%;
      }
      body {
        background: #faf7f5;
        font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto,
          "Helvetica Neue", Arial;
        color: #222;
        padding: 28px;
      }

      /* outer app frame to imitate screenshots */
      .app-shell {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 18px;
        padding: 36px 48px 80px 48px;
        box-shadow: 0 8px 30px rgba(2, 6, 23, 0.08);
        border: 1px solid rgba(15, 23, 42, 0.04);
      }

      .title {
        color: var(--accent);
        font-weight: 800;
        font-size: 38px;
        text-align: center;
        margin-bottom: 6px;
      }
      .subtitle {
        color: #6b6b6b;
        text-align: center;
        margin-bottom: 20px;
      }

      /* search + button row */
      .actions-row {
        display: flex;
        gap: 18px;
        align-items: center;
        margin-top: 8px;
        margin-bottom: 18px;
      }
      .search-box {
        flex: 1;
      }
      .btn-orange {
        background: linear-gradient(180deg, #ff9b2b, #e67a00);
        color: #fff;
        border: none;
        padding: 10px 18px;
        border-radius: 12px;
        box-shadow: 0 6px 18px rgba(230, 122, 0, 0.28);
      }

      /* festival tabs */
      .festival-tabs {
        display: flex;
        gap: 10px;
        background: var(--muted);
        padding: 12px;
        border-radius: 10px;
        margin-bottom: 18px;
      }
      .festival-tabs .tab-btn {
        background: transparent;
        border: 0;
        padding: 8px 18px;
        border-radius: 8px;
        color: #333;
      }
      .festival-tabs .tab-btn.active {
        background: #fff;
        border-radius: 8px;
        box-shadow: var(--soft-shadow);
      }

      /* event card */
      .event-card {
        border-radius: 12px;
        padding: 22px;
        border: 1px solid rgba(15, 23, 42, 0.04);
      }
      .event-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 18px;
      }
      .event-title {
        font-weight: 700;
        font-size: 20px;
        display: flex;
        gap: 10px;
        align-items: center;
      }
      .event-desc {
        color: #6b6b6b;
        font-size: 13px;
        margin-top: 6px;
      }

      .metrics .metric {
        border-radius: 10px;
        padding: 18px;
        min-height: 84px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        box-shadow: none;
        border: 1px solid rgba(2, 6, 23, 0.03);
      }
      .metric h6 {
        font-weight: 700;
        margin-bottom: 6px;
        font-size: 14px;
      }
      .metric .value {
        font-size: 20px;
        font-weight: 800;
      }

      .metric.income {
        background: #eaf7ef;
        color: #0b7a3f;
      }
      .metric.expense {
        background: #fdecec;
        color: #b81d21;
      }
      .metric.balance {
        background: #fdecec;
        color: #b81d21;
      }
      .metric.entries {
        background: #f3f0ee;
      }

      /* action icons */
      .action-square {
        width: 40px;
        height: 40px;
        border-radius: 8px;
        border: 1px solid rgba(2, 6, 23, 0.06);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: white;
      }

      /* modal tweaks */
      .modal-content {
        border-radius: 12px;
      }
      .select-year {
        border-radius: 9px;
        padding: 10px 12px;
        border: 1px solid rgba(245, 158, 11, 0.2);
      }
      .nav-tabs .nav-link {
        border-radius: 8px;
        color: #444;
      }
      .nav-tabs .nav-link.active {
        background: #fff;
        border: 1px solid rgba(15, 23, 42, 0.06);
      }

      .small-card {
        border-radius: 10px;
        padding: 18px;
        border: 1px solid rgba(2, 6, 23, 0.04);
      }

      /* responsive */
      @media (max-width: 900px) {
        .app-shell {
          padding: 24px;
        }
        .title {
          font-size: 28px;
        }
        .actions-row {
          flex-direction: column;
          align-items: stretch;
        }
      }
    </style>
  </head>
  <body>
    <div class="app-shell">
      <div class="title">Festival Expense Manager</div>
      <div class="subtitle">
        Track expenses and income for your cultural celebrations
      </div>

      <!-- search + add -->
      <div class="actions-row">
        <div class="search-box">
          <div class="input-group">
            <span class="input-group-text bg-white border-end-0"
              ><i class="bi bi-search"></i
            ></span>
            <input
              class="form-control border-start-0"
              placeholder="Search records, items, or categories..."
            />
          </div>
        </div>
        <div>
          <button
            class="btn btn-orange"
            data-bs-toggle="modal"
            data-bs-target="#addRecordModal"
          >
            <i class="bi bi-plus-lg me-2"></i> Add New Record
          </button>
        </div>
      </div>

      <!-- festival tabs -->
      <div class="festival-tabs">
        <button class="tab-btn active">
          <span class="me-2">üåø</span> Janmashtami
        </button>
        <div style="flex: 1"></div>
        <button class="tab-btn">
          <span class="me-2">üêò</span> Ganesh Chaturthi
        </button>
      </div>

      <!-- Event card -->
      <div class="event-card">
        <div class="event-header">
          <div>
            <div class="event-title">
              <i class="bi bi-calendar-event"></i> Janmashtami 2025
            </div>
            <div class="event-desc">No description provided</div>
          </div>

          <div class="d-flex align-items-center gap-2">
            <button
              class="btn btn-sm btn-warning"
              onclick="alert('View history - placeholder')"
            >
              View History
            </button>
            <button class="action-square" title="Edit">
              <i class="bi bi-pencil"></i>
            </button>
            <button class="action-square" title="Delete">
              <i class="bi bi-trash"></i>
            </button>
          </div>
        </div>

        <div class="row metrics g-3">
          <div class="col-md-3">
            <div class="metric income">
              <h6><i class="bi bi-graph-up me-2"></i>Income</h6>
              <div class="value">‚Çπ0</div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="metric expense">
              <h6><i class="bi bi-caret-down-square me-2"></i>Expenses</h6>
              <div class="value">‚Çπ0</div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="metric balance">
              <h6><i class="bi bi-cash-stack me-2"></i>Balance</h6>
              <div class="value">‚Çπ0</div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="metric entries">
              <h6><i class="bi bi-card-list me-2"></i>Entries</h6>
              <div class="value">0</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Add Record Modal -->
    <div
      class="modal fade"
      id="addRecordModal"
      tabindex="-1"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header border-0">
            <h5 class="modal-title">Add Janmashtami Record</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form id="recordForm">
              <div class="row g-3 align-items-center">
                <div class="col-md-4">
                  <label class="form-label">Year</label>
                  <select class="form-select select-year" id="yearSelect">
                    <!-- years inserted by JS -->
                  </select>
                </div>
                <div class="col-md-8">
                  <label class="form-label">Description</label>
                  <input
                    class="form-control"
                    placeholder="Brief description of the celebration"
                    id="descriptionInput"
                  />
                </div>
              </div>

              <hr style="margin: 20px 0" />

              <!-- tabs inside modal -->
              <ul class="nav nav-tabs" id="recordTabs" role="tablist">
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link active"
                    id="overview-tab"
                    data-bs-toggle="tab"
                    data-bs-target="#overview"
                    type="button"
                    role="tab"
                  >
                    Overview
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link"
                    id="entries-tab"
                    data-bs-toggle="tab"
                    data-bs-target="#entries"
                    type="button"
                    role="tab"
                  >
                    Entries
                    <span
                      id="entriesCount"
                      class="badge bg-light text-dark ms-2"
                      >0</span
                    >
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link"
                    id="addentry-tab"
                    data-bs-toggle="tab"
                    data-bs-target="#addentry"
                    type="button"
                    role="tab"
                  >
                    Add Entry
                  </button>
                </li>
              </ul>

              <div class="tab-content pt-3">
                <div
                  class="tab-pane fade show active"
                  id="overview"
                  role="tabpanel"
                >
                  <div class="row g-3">
                    <div class="col-md-4">
                      <div class="small-card text-success">
                        <small>Total Income</small>
                        <div class="h4 mt-2">‚Çπ0</div>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="small-card text-danger">
                        <small>Total Expense</small>
                        <div class="h4 mt-2">‚Çπ0</div>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="small-card text-success">
                        <small>Balance</small>
                        <div class="h4 mt-2">+‚Çπ0</div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="tab-pane fade" id="entries" role="tabpanel">
                  <div class="text-center py-5">
                    <div style="font-size: 48px">üêò</div>
                    <h5 class="mt-3">No entries added yet.</h5>
                    <p class="text-muted">
                      Start adding income or expense entries for this
                      celebration
                    </p>
                    <button
                      type="button"
                      class="btn btn-outline-warning"
                      id="addFirstEntryBtn"
                    >
                      + Add First Entry
                    </button>
                  </div>
                </div>

                <div class="tab-pane fade" id="addentry" role="tabpanel">
                  <div class="row g-3">
                    <div class="col-md-4">
                      <label class="form-label">Type</label>
                      <select class="form-select" id="entryType">
                        <option value="income">Income</option>
                        <option value="expense">Expense</option>
                      </select>
                    </div>
                    <div class="col-md-4">
                      <label class="form-label">Amount</label>
                      <input
                        type="number"
                        class="form-control"
                        id="entryAmount"
                        placeholder="0"
                      />
                    </div>
                    <div class="col-md-4">
                      <label class="form-label">Note</label>
                      <input
                        class="form-control"
                        id="entryNote"
                        placeholder="Notes (optional)"
                      />
                    </div>
                    <div class="col-12 text-end mt-2">
                      <button
                        type="button"
                        class="btn btn-outline-secondary me-2"
                        id="addEntryBtn"
                      >
                        Add Entry
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer border-0">
            <button type="button" class="btn btn-light" data-bs-dismiss="modal">
              Cancel
            </button>
            <button type="button" class="btn btn-orange" id="saveRecordBtn">
              Save Record
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // populate year select
      const yearSelect = document.getElementById("yearSelect");
      const thisYear = new Date().getFullYear();
      for (let y = thisYear; y >= 2010; y--) {
        const opt = document.createElement("option");
        opt.value = y;
        opt.textContent = y;
        yearSelect.appendChild(opt);
      }

      // entries store (in-memory)
      const entries = [];
      const entriesCountEl = document.getElementById("entriesCount");

      function updateEntriesCount() {
        entriesCountEl.textContent = entries.length;
        document.querySelector(".metric.entries .value").textContent =
          entries.length;
      }

      document.getElementById("addEntryBtn").addEventListener("click", () => {
        const type = document.getElementById("entryType").value;
        const amount =
          Number(document.getElementById("entryAmount").value) || 0;
        const note = document.getElementById("entryNote").value || "";
        if (amount <= 0) {
          alert("Please enter an amount");
          return;
        }
        entries.push({ type, amount, note });
        // reset fields
        document.getElementById("entryAmount").value = "";
        document.getElementById("entryNote").value = "";
        // switch to entries tab
        const tabEl = new bootstrap.Tab(document.querySelector("#entries-tab"));
        tabEl.show();
        renderOverview();
        updateEntriesCount();
      });

      document
        .getElementById("addFirstEntryBtn")
        .addEventListener("click", () => {
          const tab = new bootstrap.Tab(
            document.querySelector("#addentry-tab")
          );
          tab.show();
        });

      function renderOverview() {
        const totalIncome = entries
          .filter((e) => e.type === "income")
          .reduce((s, e) => s + e.amount, 0);
        const totalExpense = entries
          .filter((e) => e.type === "expense")
          .reduce((s, e) => s + e.amount, 0);
        const balance = totalIncome - totalExpense;
        document.querySelector(
          "#overview .small-card.text-success .h4"
        ).textContent = "‚Çπ" + totalIncome;
        const expenseCard = document.querySelector(
          "#overview .small-card.text-danger .h4"
        );
        if (expenseCard) expenseCard.textContent = "‚Çπ" + totalExpense;
        document.querySelector(
          "#overview .small-card.text-success:nth-child(3) .h4"
        ).textContent = (balance >= 0 ? "+" : "") + "‚Çπ" + balance;
        // update main page metrics
        document.querySelector(".metric.income .value").textContent =
          "‚Çπ" + totalIncome;
        document.querySelector(".metric.expense .value").textContent =
          "‚Çπ" + totalExpense;
        document.querySelector(".metric.balance .value").textContent =
          balance >= 0 ? "‚Çπ" + balance : "‚Çπ" + balance;
      }

      document.getElementById("saveRecordBtn").addEventListener("click", () => {
        // For demo: just close modal and show a small toast-like change
        const modal = bootstrap.Modal.getInstance(
          document.getElementById("addRecordModal")
        );
        modal.hide();
        // For now we simply alert and keep data in-memory
        alert("Record saved (demo). Entries: " + entries.length);
      });

      // ensure overview text values are in place
      renderOverview();
      updateEntriesCount();
    </script>
  </body>
</html>
